\RequirePackage{ifpdf}
\newif\ifelektroniczna
\newif\ifjednostronna

%\elektronicznatrue
\elektronicznafalse

%\jednostronnafalse
\jednostronnatrue

\ifjednostronna
    \def\strony{oneside,openany}
\else
    \def\strony{twoside,openright}
\fi

\ifpdf
    \documentclass[pdftex,12pt,a4paper,\strony,colorlinks,nocenter,noupper,crosshair]{thesis}
    \usepackage[pdftex]{graphicx}
    \pdfcompresslevel=1
\else
    \documentclass[12pt,a4paper,\strony,nocenter,noupper,crosshair]{thesis}
    \usepackage{graphicx}
\fi

\usepackage{url}
\usepackage{TitlePage}
\usepackage[utf8]{inputenc}

\def\rodzaj{Praca magisterska}

\def\wydzial{Automatyki, Elektroniki i~Informatyki}

\def\tytul{Śledzenie punktów charakterystycznych dłoni w~sekwencjach wideo}
\def\tytulpdf{Śledzenie punktów charakterystycznych dłoni w~sekwencjach wideo}

\def\autor{Autor: Wojciech Janusz Gawroński}
\def\promotor{Kierujący pracą: dr~inż. Michał Kawulok}
\def\konsultant{}
\def\data{Gliwice, Czerwiec 2013}
\def\slowakluczowe{Wizja Komputerowa,C++,OpenCV,motion tracking,machine learning,random forest}

\graphicspath{{./pictures/}}

\ifpdf
\ifelektroniczna
     \usepackage[
        pdfusetitle=true,
        pdfsubject={\tytulpdf},
        pdfkeywords={\slowakluczowe},
        pdfcreator={\autor},
        pdfstartview=FitV,
        linkcolor=blue,
        citecolor=red,
    ]{hyperref}
\fi
\fi

\usepackage{layout}

\usepackage{t1enc,amsmath}
\usepackage[OT4,plmath]{polski}
\usepackage{helvet}

%\usepackage{anysize}
%\marginsize{3cm}{2.5cm}{2.5cm}{2.5cm}%LPGD
%\setlength{\textheight}{24cm}
%\usepackage{multirow}
%\ifpdf\usepackage{pdflscape}\else\usepackage{lscape}\fi
%\usepackage{longtable}
%\usepackage{geometry}
%GATHER{thesis.bib}
%\usepackage[twoside]{geometry}
%\geometry{ lmargin=3.5cm, rmargin=2.5cm, tmargin=3cm, bmargin=3cm,
%headheight=1cm, headsep=0.5cm, footskip=0pt }
%\def\fixme#1{}

\textwidth 150mm
\textheight 225mm
\usepackage{amsfonts}
\usepackage{subfig}
\captionsetup[subfigure]{justification=centerfirst}
\usepackage{cite}
\usepackage{listings}
\lstset{language={C++},inputencoding=latin2}
\usepackage{cleardpempty}
\usepackage{float}
\usepackage{textcomp}
\def\vec#1{\ensuremath{\mathbf{#1}}}
\def\ang#1{ang.~\emph{#1}}
\def\lat#1{lac.~\emph{#1}}
\def\e{\ensuremath{\textrm{\normalfont{}e}}}
\def\degree{\ensuremath{^{\circ}}\protect}
\def\fixme#1{\marginpar{\tiny{}#1}}
\newtheorem{twierdzenie}{Twierdzenie}[chapter]
\newtheorem{wlasnosc}{Własność}[chapter]
\newtheorem{lemat}{Lemat}[chapter]
\newenvironment{dowod}{\parindent=0pt{\bf Dowód. }}{\begin{flushright}$\square$\end{flushright}}
\def\captionlabeldelim{.}
\linespread{1}
\chapterfont{\Huge\bfseries}
\sectionfont{\bfseries\Large}
\subsectionfont{\bfseries\large}
\institutionfont{\bfseries}%\mdseries}
\def\captionlabelfont{\bfseries}

\renewcommand{\figureshortname}{Rys.}
\renewcommand{\tableshortname}{Tab.}

\renewcommand\floatpagefraction{.9}
\renewcommand\topfraction{.9}
\renewcommand\bottomfraction{.9}
\renewcommand\textfraction{.1}
\setcounter{totalnumber}{50}
\setcounter{topnumber}{50}
\setcounter{bottomnumber}{50}

\newcommand{\topcaption}{%
   \setlength{\abovecaptionskip}{0pt}%
   \setlength{\belowcaptionskip}{10pt}%
   \caption}

\newcommand\scalemath[2]{\scalebox{#1}{\mbox{\ensuremath{\displaystyle #2}}}}

\newcommand{\gest}[9] {
    \subsubsection{#1}
        \begin{table}[!h]
            \begin{tabular}{l p{10cm}}
                \textbf{Tło i~kadr:}        & #2 \\
                \textbf{Kształt i~wymiary:} & #3 \\
                \textbf{Elementy składowe:} & #4 \\
                \textbf{Ułożenie dłoni:}    & #5 \\
                \textbf{Ruch i~kierunek:}   & #6 \\
                \textbf{Pozycja wejściowa:} & #7 \\
                \textbf{Punkty kluczowe:}   & #8 \\
                \textbf{Punkty pośrednie:}  & #9 \\
            \end{tabular}
            \caption{Opis gestu "#1"}
        \end{table}
}

\makeatletter
\renewcommand\fs@ruled{\def\@fs@cfont{\bfseries}\let\@fs@capt\floatc@ruled
  \def\@fs@pre{\hrule height1.0pt depth0pt \kern2pt}
  \def\@fs@post{\vskip-1.5\baselineskip\kern2pt\hrule\relax}%
  \def\@fs@mid{\kern2pt\hrule\kern2pt}
  \let\@fs@iftopcapt\iftrue}
\makeatother

\floatstyle{ruled}
\newfloat{sample}{thp}{lop}
\floatname{sample}{Przykład}

\begin{document}

\bibliographystyle{unsrt}
\frontmatter
\stronatytulowa
%\cleardoublepage
%\maketitle
%\tocbibname

\tableofcontents \listoffigures \listoftables \listof{sample}{Spis przykładów}
%\listofacros
%\input{abbrev_body}
%\newpage
%\input{spis_oznaczen}

\mainmatter
\input{Theory}
\input{Internals}
\input{Results}

\addcontentsline{toc}{chapter}{\bibname}
\bibliography{MainDocument}

\renewcommand{\appendixname}{Dodatek}
\appendix
\input{Appendixes}

\end{document}